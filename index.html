<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latihan DOM 6 | Pemindahan isi gelas berisi kopi dan teh</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <div id="app">
        <div class="search-box">
            <label for="search">Search</label>
            <input type="text" name="search" id="search" placeholder="Rick">
        </div>
        <div class="characters-container" id="characters-container">
            <!-- <div class="card">
                <div class="card-header">
                    <img src="" alt="charname" width="400px" height="400px">
                </div>
                <div class="card-body">
                    <h4>Character name</h4>
                    <span>Status: Character name</span>
                    <span>Species: name</span>
                    <span>Type: name</span>
                    <span>Gender: name</span>
                </div>
            </div> -->

        </div>
    </div>
    <script>
        function elementor(element, attribute = [['', '']], content, parrent) {
            const e = document.createElement(element)
            attribute.forEach(
                item => {
                    e.setAttribute(item[0], item[1])
                }
            )
            if (typeof content === "string") {
                const textNode = document.createTextNode(content)
                e.appendChild(textNode)
            }

            parrent.appendChild(e)
            return e
        }

        async function ambilData(url) {
            const data = await fetch(url)
            const json = await data.json()
            return json.results
        }

        let url = "https://rickandmortyapi.com/api/character/"
                
        ambilData(url).then(
            characters => {
                characters.forEach(
                    character => {
                        console.log(characters)
                        const charactersContainer = document.getElementById('characters-container')
                        const card = elementor('div', [['class', 'card']], undefined, charactersContainer)
                        const cardHeader = elementor('div', [['class', 'card-header']], undefined, card)
                        const cardHeaderImg = elementor('img', [['src', character.image], ['class', 'card']], undefined, card)
                        const cardBody = elementor('div', [['class', 'card-body']], undefined, card)
                        const characterName = elementor('h4', [], character.name, cardBody)
                    }
                )
            }
        ).catch(
            err => alert(err)
        )
    </script>
    <script src="assets/js/script.js"></script>
</body>

</html>